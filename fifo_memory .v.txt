module fifo_memory #(
    parameter DATA_WIDTH = 8,
    parameter ADDR_WIDTH = 4
)(
    input  wire                   wclk,
    input  wire                   w_en,
    input  wire [ADDR_WIDTH-1:0]  waddr,
    input  wire [DATA_WIDTH-1:0]  wdata,

    input  wire                   rclk,
    input  wire                   r_en,
    input  wire [ADDR_WIDTH-1:0]  raddr,
    output reg  [DATA_WIDTH-1:0]  rdata
);

    localparam DEPTH = 1 << ADDR_WIDTH;

    reg [DATA_WIDTH-1:0] mem [0:DEPTH-1];

    always @(posedge wclk) begin
        if (w_en)
            mem[waddr] <= wdata;
    end

    always @(posedge rclk) begin
        if (r_en)
            rdata <= mem[raddr];
    end

endmodule
